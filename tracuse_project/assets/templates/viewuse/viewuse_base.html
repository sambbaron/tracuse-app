<section class="viewuse" template="{{ template_name }}" id="{{ id }}"
         onmouseenter="Tracuse.ui.viewuse.mouseEnter(this, event)"
         onmouseleave="Tracuse.ui.viewuse.mouseLeave(this, event)">
    <input name="title" value="View Title">
    <button name="new-object" onclick="Tracuse.ui.viewuse.openObjectPanel(this, event)"><i>+</i><span>New Object</span></button>
    <button name="view-settings" onclick="Tracuse.ui.viewuse.openViewPanel(this, event)"><i>---------</i><span>View Settings</span></button>
    <button name="close-view" onclick="Tracuse.ui.viewuse.closeView(this, event)"><i>X</i><span>Close View</span></button>
    <div class="content">
        {% block viewuse_content %}{% endblock %}
    </div>
    <aside class="panel object-panel">
        <h3 class="title" onclick="Tracuse.ui.viewuse.showHidePanel(this, event)">
            Object Filter
        </h3>

        <div class="content">
            <hr>
            <div class="section groups-types">
                <h4 class="title" onclick="Tracuse.ui.viewuse.showHidePanel(this, event)">Groups/Types</h4>

                <div class="content">
                    {% for datum_group in datum_groups %}
                        <fieldset class="input-group col-{{ loop.index }}">
                            <button class="filter-input" name="datum_group" value="{{ datum_group.datum_group_id }}"
                                    onclick="Tracuse.ui.viewuse.clickDatumGroup(this, event)">
                                {{ datum_group.readable_name }}
                            </button>

                            {% for datum_type in datum_types %}
                                {% if datum_type.datum_group_id == datum_group.datum_group_id %}
                                    <button class="filter-input" name="datum_type" value="{{ datum_type.datum_type_id }}"
                                            datum_group_id="{{ datum_type.datum_group_id }}"
                                            onclick="Tracuse.ui.viewuse.clickDatumType(this, event)">
                                        {{ datum_type.readable_name }}
                                    </button>
                                {% endif %}
                            {% endfor %}
                        </fieldset>
                    {% endfor %}
                </div>
            </div>
            <hr>
            <div class="section associations">
                <h4 class="title" onclick="Tracuse.ui.viewuse.showHidePanel(this, event)">Associations</h4>

                <div class="content">
                    <fieldset class="input-group">
                        <h5 class="title">Groups</h5>
                        <select name="datum_groups"
                                onchange="Tracuse.ui.viewuse.selectDatumGroup(this, event)">
                            <option></option>
                            {% for datum_group in datum_groups %}
                                <option value="{{ datum_group.datum_group_id }}">
                                    {{ datum_group.readable_name }}
                                </option>
                            {% endfor %}
                        </select>
                    </fieldset>
                    <fieldset class="input-group">
                        <h5 class="title">Types</h5>
                        <select name="datum_types"
                                onchange="Tracuse.ui.viewuse.selectDatumType(this, event)">
                            <option></option>
                            {% for datum_type in datum_types %}
                                <option value="{{ datum_type.datum_type_id }}"
                                        datum_group_id="{{ datum_type.datum_group_id }}">
                                    {{ datum_type.readable_name }}
                                </option>
                            {% endfor %}
                        </select>
                    </fieldset>
                    <br>
                    <fieldset class="input-group">
                        <h5 class="title">Objects</h5>
                        <select name="datum_objects">
                            <option></option>
                        </select>
                        <button name="add-association"
                                onclick="Tracuse.ui.viewuse.addAssociatedDatum(this, event)">
                            +
                        </button>
                    </fieldset>

                </div>
            </div>
            <hr>
            <div class="section elements">
                <h4 class="title" onclick="Tracuse.ui.viewuse.showHidePanel(this, event)">Elements</h4>

                <div class="content">
                    <fieldset class="input-group">
                        <h5 class="title">Types</h5>
                        <select name="element_types"
                                onchange="Tracuse.ui.viewuse.selectElement(this, event)">
                            <option></option>
                            {% for element_type in element_types %}
                                <option value="{{ element_type.element_type_id }}">
                                    {{ element_type.readable_name }}
                                </option>
                            {% endfor %}
                        </select>
                        <h5 class="title">Operators</h5>
                        <select name="element_operators">
                            <option></option>
                        </select>
                        <br>
                        <h5 class="title">Filter Value</h5>
                        <input name="element_value">
                    </fieldset>
                </div>
            </div>
            <hr>
        </div>

    </aside>
    <aside class="panel view-panel">
        <h3 class="title" onclick="Tracuse.ui.viewuse.showHidePanel(this, event)">
            View Settings
        </h3>

    </aside>
</section>